# PNU_Embedded_System_Design_Lab

## 구성원

<div align="center">

| [이윤재](https://github.com/YUNJAEGOONER) | [석재영](https://github.com/Sjaeyeong) | [이준형](https://github.com/NIBble1492) | [이민형](https://github.com/LeeSwallow) |
| :---------------------------------------: | :------------------------------------: | :------------------------------------: | :------------------------------------: |
| <img src="https://github.com/YUNJAEGOONER.png" width="100"> | <img src="https://github.com/Sjaeyeong.png" width="100"> | <img src="https://github.com/NIBble1492.png" width="100"> | <img src="https://github.com/LeeSwallow.png" width="100"> |

</div>

## Term Project 소개
- 수업 시간에 배운 다양한 센서와 보드의 기능을 활용하여 하드웨어를 개발한다.
- Bluetooth 및 USART 통신 기능을 활용하여 하드웨어를 개발한다.
- 아이들이 식물에 친숙해지고, 손쉽게 식물을 기를 수 있도록 돕는 키트를 개발한다.
- MP3 Player와 TFT LCD를 통해 상호 소통하며 아이들의 흥미를 유발한다.

## 시나리오
 **1) 키트의 전원을 켰을 때**

토양 습도 측정

-   키트의 전원이 켜지면 토양 습도 센서가 자동으로 작동하여 현재 토양의 습도를 측정한다.
    

물통 수위 측정

-   수위 센서가 물통의 수위를 측정하고, 일정 수위 이하의 물이 남아 있을 경우 스피커를 통해서 알림을 제공한다.
    

	(추가 기능) 인체 감지 기능 및 자동 문 열림

-   초음파 거리 센서가 근처의 사람을 인식하면, 서보 모터를 이용해 닫혀 있던 키트의 문을 열어 사용자가 식물을 관찰할 수 있도록 한다.
    

키트와 스마트폰 연결 시

-   사용자가 스마트폰 앱으로 관리 모드(수동/자동)를 선택한다.
    

  
 **2) 자동 모드**

조도에 따른 LED 제어

-   조도 센서가 주변의 조도를 측정하여 조도값이 낮을 때 식물 성장에 필요한 빛을 보충하기 위해 LED를 켠다.
 

토양 수분 자동 관리

-   토양 습도가 일정 수준 이하로 내려가면, 수중 펌프가 자동으로 작동하여 식물에게 물을 보충한다.

 **3) 수동 모드**

-   수동 모드를 통해 아이들이 직접 식물에 물을 주도록 유도한다.
    
-   인체 감지 센서가 사람을 감지하면, LCD화면과 스피커가 작동하여 식물의 현재 상태를 전달한다.


LCD 화면 메시지
    
-   “식물의 상태가 좋습니다.”
	    
-   “펌프에 물 부족합니다.”
	    
-   “식물에게 물이 부족합니다.”

-   스피커는 음성 안내

-   “식물 상태가 좋습니다.”
	    
-   “펌프에 물이 부족합니다. 물을 채워주세요.”
	    
-   “토양 수분 상태가 적절하지 않습니다. 식물에게 물을 주세요.”

-   (추가 기능) LED 제어
	    
-   블루투스를 통해 사용자가 직접 식물 성장 LED의 전원을 제어할 수 있게 한다.

## 사용된 센서 및 모듈

**(1) 토양습도 센서, 펌프모터**
- 토양습도 센서의 값을 측정하여 펌프 모터의 동작을 제어한다.
- 센서의 값이 설정된 임계값 이하일 경우, 펌프 모터가 작동하여 식물에 물을 공급한다.

**(2) 수위센서**
- 수위센서를 통해 물통에 남아있는 물의 양을 측정한다.
- 물이 부족할 경우, 스피커를 통해 사용자에게 알린다.

**(3) 초음파 거리센서, 서보모터**
- 초음파 거리 센서를 통해 식물 생장 키트 주변에 사람이 있는지를 감지한다.
- 초음파 거리 센서를 통해 주변에 사람이 감지되면 서보모터를 작동시켜 식물 생장 키트의 문을 여닫는다.

**(4) 조도센서, 식물 성장용 LED, 릴레이모듈**
- 조도센서의 값을 읽어와 식물 성장용 LED의 동작을 제어한다.
- 조도센서의 값이 특정 임계값 이하일 경우, 릴레이모듈을 활용해 식물 성장 LED의 전원을 켠다.
- 일조량이 충분한 경우 LED는 자동으로 꺼진다.
- 식물 성장용 LED를 통해 빛이 없는 환경에서 식물의 성장을 돕는다.

**(5) MP3, 스피커**
- MP3 모듈과 스피커를 사용해 식물의 관리 상태를 알린다.
- 식물의 상태가 좋을때 “식물의 상태가 좋습니다.” 라고 출력을 한다.
- 식물의 토양의 상태가 물이 부족할 때는 “토양 수분 상태가 적절하지 않습니다. 식물에게 물을 주세요.” 라고 출력을 한다.
- 펌프에 물이 부족할 때에는 “펌프에 물이 부족합니다. 물을 채워주세요.” 라고 출력한다.
- 음성 알림을 통해 사용자와 상호작용하며, 특히 아이들이 식물을 기르는 과정에 흥미를 느낄 수 있도록 돕는다.

**(6) 모터 드라이버, 수중 펌프 모터**
- 모터 드라이버를 사용하여 수중 펌프 모터의 동작을 제어한다.
- 모터 드라이버는 토크제어, 속도제어, 전압제어, 전류제어, 위치제어 등을 정확하게 할 수 있다.

### 흐름도 및 구상도

![스크린샷 2024-12-21 104408](https://github.com/user-attachments/assets/8091bf31-85fc-4402-8abc-b095f099e322)

![스크린샷 2024-12-21 114029](https://github.com/user-attachments/assets/b62e14cb-e0d6-421a-a647-b72503bde669)
